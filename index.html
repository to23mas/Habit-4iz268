
<!DOCTYPE html>
<html lang="en">
<head>

	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<link rel="icon" type="image/x-icon" href="favicon.ico">

  <link rel="stylesheet" media="only screen and (min-width: 700px)" href="./styles/style.css"> 
	

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.js"></script>

	<script src="assets/js/library.js"></script> 
	<script src="assets/js/api.js"></script> 

	<title>Habit tracker</title>

</head>


<div id="homePage">

	<div id="navBar"></div>
	<div id="messageBox"></div>	

	<div id="mainPage" class="containder justify-content-center ">

		<div class="row containder justify-content-center">
			<div id="mainPageArea" class="col-6" ></div>
		</div>

	</div>
	<div id="loading" class="text-center centerContent"></div>
</div>
	
	
<!-- ------------------------------------================================================------------------------------------------- -->

<script> 



const myHabits = () => {
	
	$("#mainPageArea").load('./templates/allMyHabits.html');
};

const returnForm = (formName) => {
	
	$("#mainPageArea").load('./templates/' + formName + 'Form.html');
};

const goToHbit = (habitId) => {
	$("#habitId").append('<h1>'+habitId+'</h1>');	
	$("#mainPageArea").load('./templates/habitTemplate.html');	
}

const getfromUrl = (param) => {

	const queryString = window.location.search;
	const urlParams = new URLSearchParams(queryString);

  return urlParams.get(param);
}
function loadPage() {
	let user = localStorage.getItem('username');

	clearSelectedElements(['mainPageArea', 'navBar']);

	if (user === null){
		$("#mainPageArea").load('./templates/createUser.html');
	} else {
		$("#navBar").load('./templates/navbarTemplate.html');

		if (getfromUrl('habit') !== null){
	  	$("#mainPageArea").load('./templates/habitTemplate.html');	
		}	else {
		  myHabits();
		}
	}


}


loadPage();

</script>


</body>

</html>
